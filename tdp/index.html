<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>PAX Counter</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
margin:0;height:100%;
font-family:system-ui,Arial;
background:#0c0f14;color:#fff
}
body{
display:flex;
align-items:center;
justify-content:center;
touch-action:manipulation;
}

.wrap{
width:min(420px,100%);
padding:16px;
display:flex;
flex-direction:column;
gap:14px;
}

.top{
background:#151a22;
border-radius:14px;
padding:14px;
text-align:center;
}

.total{
font-size:34px;
font-weight:800;
}
.small{opacity:.7;font-size:14px}

.session{
background:#10151d;
border-radius:14px;
padding:14px;
text-align:center;
font-size:26px;
font-weight:800;
min-height:54px;
}

.center{
height:40vh;
min-height:220px;
border-radius:20px;
background:#10151d;
display:flex;
align-items:center;
justify-content:center;
gap:16px;
}

.tap{
width:160px;height:160px;
border-radius:50%;
border:2px solid #2a3140;
background:#1a2130;
color:#fff;
font-size:18px;
font-weight:800;
}

.minus{
width:64px;height:64px;
border-radius:50%;
border:2px solid #5a2a2a;
background:#2a1515;
color:#fff;
font-size:22px;
font-weight:900;
}

.bottom{
display:flex;
gap:10px;
flex-wrap:wrap;
}

button{
flex:1;
padding:14px;
border-radius:14px;
border:1px solid #2a3140;
background:#151a22;
color:#fff;
font-weight:700;
}

.whatsapp{
background:#1f7a4f;
border-color:#25d366;
}

.reset{
background:#3a1f1f;
border-color:#a14a4a;
}
</style>
</head>

<body>

<div class="wrap">

<div class="top">
<div class="total"><span id="total">0</span> pax</div>
<div class="small">Total Count</div>
</div>

<div class="session" id="sessionBlock">
+0
</div>

<div class="center">
<button class="minus" id="minus">−</button>
<button class="tap" id="tap">TAP</button>
</div>

<div class="bottom">
<button id="copy">Copy</button>
<button class="whatsapp" id="send">Copy & Open WhatsApp</button>
<button class="reset" id="reset">Reset All</button>
</div>

</div>

<script>
const totalEl = document.getElementById("total");
const sessionBlock = document.getElementById("sessionBlock");
const tapBtn  = document.getElementById("tap");
const minusBtn = document.getElementById("minus");
const sendBtn = document.getElementById("send");
const copyBtn = document.getElementById("copy");
const resetBtn = document.getElementById("reset");

let total = Number(localStorage.getItem("TOTAL_PAX") || 0);
let session = 0;

render();

function render(){
totalEl.textContent = total;
sessionBlock.textContent = `+${session}`;
}

// +1
tapBtn.addEventListener("pointerdown", ()=>{
session++;
total++;
localStorage.setItem("TOTAL_PAX", total);
render();
});

// −1
minusBtn.addEventListener("pointerdown", ()=>{
if(session > 0 && total > 0){
session--;
total--;
localStorage.setItem("TOTAL_PAX", total);
render();
}
});

// COPY TOTAL
copyBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${total} pax`);
session = 0;
render();
};

// COPY + OPEN WHATSAPP (TOTAL)
sendBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${total} pax`);
session = 0;
render();
window.location.href = "whatsapp://send";
};

// RESET EVERYTHING
resetBtn.onclick = ()=>{
session = 0;
total = 0;
localStorage.removeItem("TOTAL_PAX");
render();
};
</script>

</body>
</html>
