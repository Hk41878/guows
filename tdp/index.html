<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>PAX Counter</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
margin:0;height:100%;
font-family:system-ui,Arial;
background:#0c0f14;color:#fff
}

body{
display:flex;
align-items:center;
justify-content:center;
touch-action:manipulation;
}

.wrap{
width:min(420px,100%);
padding:16px;
display:flex;
flex-direction:column;
gap:14px;
}

.top{
background:#151a22;
border-radius:14px;
padding:14px;
text-align:center;
}

.total{
font-size:34px;
font-weight:800;
}
.small{opacity:.7;font-size:14px}

/* SESSION BLOCK */
.session{
background:#10151d;
border-radius:14px;
padding:12px;
text-align:center;
min-height:52px;
font-weight:700;
letter-spacing:.5px;
}

.center{
height:40vh;
min-height:220px;
border-radius:20px;
background:#10151d;
display:flex;
align-items:center;
justify-content:center;
}

.tap{
width:170px;height:170px;
border-radius:50%;
border:2px solid #2a3140;
background:#1a2130;
color:#fff;
font-size:18px;
font-weight:800;
}

.bottom{
display:flex;
gap:10px;
flex-wrap:wrap;
}

button{
flex:1;
padding:14px;
border-radius:14px;
border:1px solid #2a3140;
background:#151a22;
color:#fff;
font-weight:700;
}

.whatsapp{
background:#1f7a4f;
border-color:#25d366;
}

.reset{
background:#3a1f1f;
border-color:#a14a4a;
}
</style>
</head>

<body>

<div class="wrap">

<div class="top">
<div class="total"><span id="total">0</span> pax</div>
<div class="small">Total Count (never resets)</div>
</div>

<div class="session" id="sessionBlock">
[ session empty ]
</div>

<div class="center">
<button class="tap" id="tap">TAP</button>
</div>

<div class="bottom">
<button id="copy">Copy</button>
<button class="whatsapp" id="send">Copy & Open WhatsApp</button>
<button class="reset" id="reset">Reset Session</button>
</div>

</div>

<script>
const totalEl = document.getElementById("total");
const sessionBlock = document.getElementById("sessionBlock");
const tapBtn  = document.getElementById("tap");
const sendBtn = document.getElementById("send");
const copyBtn = document.getElementById("copy");
const resetBtn = document.getElementById("reset");

let total = Number(localStorage.getItem("TOTAL_PAX")||0);
let session = 0;
let sessionText = [];

render();

function render(){
totalEl.textContent = total;
sessionBlock.textContent = sessionText.length
? sessionText.join(" ")
: "[ session empty ]";
}

// FAST + SAFE TAP
tapBtn.addEventListener("pointerdown", ()=>{
session++;
total++;
sessionText.push(`[+${session}]`);
localStorage.setItem("TOTAL_PAX",total);
render();
});

// COPY ONLY
copyBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${session} pax`);
session = 0;
sessionText = [];
render();
};

// COPY + OPEN WHATSAPP (NO GROUP)
sendBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${session} pax`);
session = 0;
sessionText = [];
render();

// open WhatsApp safely (no error popup)
window.location.href = "whatsapp://send";
};

// RESET SESSION ONLY
resetBtn.onclick = ()=>{
session = 0;
sessionText = [];
render();
};
</script>

</body>
</html>
