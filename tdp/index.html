<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<title>PAX Counter</title>

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{
margin:0;height:100%;
font-family:system-ui,Arial;
background:#0c0f14;color:#fff
}

body{
display:flex;
align-items:center;
justify-content:center;
touch-action:manipulation;
}

.wrap{
width:min(420px,100%);
padding:16px;
display:flex;
flex-direction:column;
gap:14px;
}

.top{
background:#151a22;
border-radius:14px;
padding:14px;
text-align:center;
}

.total{
font-size:34px;
font-weight:800;
}
.small{opacity:.7;font-size:14px}

.center{
height:48vh;
min-height:260px;
border-radius:20px;
background:#10151d;
display:flex;
align-items:center;
justify-content:center;
position:relative;
overflow:hidden;
}

.tap{
width:180px;height:180px;
border-radius:50%;
border:2px solid #2a3140;
background:#1a2130;
color:#fff;
font-size:18px;
font-weight:800;
}

.float{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:28px;
font-weight:800;
opacity:0;
animation:pop .6s ease forwards;
}

@keyframes pop{
0%{opacity:0;transform:translate(-50%,-20%)}
100%{opacity:1;transform:translate(-50%,-60%)}
}

.bottom{
display:flex;
gap:10px;
}

button{
flex:1;
padding:14px;
border-radius:14px;
border:1px solid #2a3140;
background:#151a22;
color:#fff;
font-weight:700;
}

.whatsapp{
background:#1f7a4f;
border-color:#25d366;
}
</style>
</head>

<body>

<div class="wrap">

<div class="top">
<div class="total"><span id="total">0</span> pax</div>
<div class="small">Total Count (never resets)</div>
</div>

<div class="center" id="center">
<button class="tap" id="tap">TAP</button>
</div>

<div class="bottom">
<button id="copy">Copy</button>
<button class="whatsapp" id="send">Copy & Open WhatsApp</button>
</div>

</div>

<script>
const totalEl = document.getElementById("total");
const tapBtn  = document.getElementById("tap");
const center  = document.getElementById("center");
const sendBtn = document.getElementById("send");
const copyBtn = document.getElementById("copy");

let total = Number(localStorage.getItem("TOTAL_PAX")||0);
let session = 0;

render();

function render(){
totalEl.textContent = total;
}

function showFloat(){
const f = document.createElement("div");
f.className="float";
f.textContent = `+${session}`;
center.appendChild(f);
setTimeout(()=>f.remove(),600);
}

// FAST CLICK SAFE
tapBtn.addEventListener("pointerdown", ()=>{
session++;
total++;
localStorage.setItem("TOTAL_PAX",total);
render();
showFloat();
});

// COPY ONLY
copyBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${session} pax`);
};

// COPY + OPEN WHATSAPP (NO GROUP)
sendBtn.onclick = async ()=>{
await navigator.clipboard.writeText(`${session} pax`);
session = 0; // reset session only
window.location.href = "https://wa.me/";
};
</script>

</body>
</html>
